<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>GM 84 Plus</title>

    <!-- jquery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script>
    $( function() {
      $( document ).tooltip({
        hide: {
        }
      });
    } );
    </script>

    <!-- jquery modal -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.8.0/jquery.modal.min.js" type="text/javascript" charset="utf-8"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.8.0/jquery.modal.min.css" type="text/css">

    <!-- spectrum -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/spectrum/1.8.0/spectrum.min.css">

    <!-- mathquill -->
    <link rel="stylesheet" href="./css/mathquill.css"/>
    <script src="./js/mathquill.min.js"></script>

    <!-- math.js and mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.5.3/math.min.js" charset="utf-8"></script>
    <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" charset="utf-8"></script>
    <!-- <script src="./js/math.min.js" charset="utf-8"></script> -->

    <!-- google icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <!-- custom -->
    <link rel='stylesheet' href='./css/graph.css' />

  </head>

  <body>



    <div class="container">

      <img src="./images/calc-gm.jpg" />
      <canvas id="myCanvas" width="560" height="350"></canvas>

      <div class="plane-controls">
        <a class="y-equals-hider" title="Show/Hide equation editor">Y=</a>
        <a class="zoom-option" id="reset-window-standard" title="Resets window to X(-10, 10)  and Y(-10, 10)">Z-Standard</a>
        <a class="zoom-option" id="reset-window-square" title="Resets window to X(-16, 16)  and Y(-10, 10), which maintains xy proportions">Z-Square</a>
        <a id="draw-graph" title="Redraws the graphs as c moves from the minimum to the maximum set below (only graphs of expressions containing c will change)" >Animate</a>
        <a href="#window-modal" rel="modal:open">Window</a>
        <span class="plane-adjust-buttons" >
          <i class="material-icons plane-adjust" id="zoom-in">zoom_in</i>
          <i class="material-icons plane-adjust" id="zoom-out">zoom_out</i>
          <i class="material-icons plane-adjust" id="pan-left">keyboard_arrow_left</i>
          <i class="material-icons plane-adjust" id="pan-right">keyboard_arrow_right</i>
          <i class="material-icons plane-adjust" id="pan-up">keyboard_arrow_up</i>
          <i class="material-icons plane-adjust" id="pan-down">keyboard_arrow_down</i>
        </span>
      </div>

      <div class="animation-group">
        <input class="c-data" id="c-min" value="-10" title="Enter a minimum value for c"></input>
        <div id="slider">
          <div id="custom-handle" class="ui-slider-handle"></div>
        </div>
        <input class="c-data" id="c-max" value="10" title="Enter a maximum value for c"></input>
      </div>

      <div class="equations">
        <div class="equation">
          <label>Y1 = </label>
          <input id="expression1" class="expression trigger-redraw" value="x * (c + 1) * sin(x + c)"/>

          <span class="pretty" id="pretty1">$$$$</span>

          <div class="color-row">
            <input id='colorpicker1' />
            <input type='checkbox' id="randomColor1"/> Random
            <input type='checkbox' id="hide-graph1"/> Hide
          </div>

          <div class="math-functions-row">
            <input type='checkbox' id="trace-mode1"/> Trace Mode?
          </div>

        </div>

        <div class="equation">
          <label>Y2 = </label>
          <input id="expression2" class="expression trigger-redraw" value="x + c"/>

          <span class="pretty" id="pretty2">$$$$</span>

          <div class="color-row">
            <input id='colorpicker2' />
            <input type='checkbox' id="randomColor2"/> Random
            <input type='checkbox' id="hide-graph2"/> Hide
          </div>

          <div class="math-functions-row">
            <input type='checkbox' id="trace-mode2"/> Trace Mode?
          </div>

        </div>


      </div>

    </div>

    <div id="window-modal" style="display:none;">
      <label>X min: </label><input class="window-values" id="window-x-min" value="-10"></input>
      <label>X max: </label><input class="window-values" id="window-x-max" value="10"></input>
      <label>Y min: </label><input class="window-values" id="window-y-min" value="-10"></input>
      <label>Y max: </label><input class="window-values" id="window-y-max" value="10"></input>
    </div>

    <div class="else">
      <p>Type math here: <span id="math-field"></span></p>
      <p>LaTeX of what you typed: <span id="latex"></span></p>
      <p>Temp holder: <span id="temp"></span></p>

      <script>
        var mathFieldSpan = document.getElementById('math-field');
        var latexSpan = document.getElementById('latex');

        var MQ = MathQuill.getInterface(2); // for backcompat
        let temp = mathFieldSpan.innerHTML;
        // console.log(temp);
        var mathField = MQ.MathField(mathFieldSpan, {
          spaceBehavesLikeTab: true, // configurable
          autoCommands: 'pi theta sqrt sum',
          substituteTextarea: function() {
            return document.createElement('textarea');
          },
          handlers: {
            edit: function() { // useful event handlers
              // console.log(mathField.html());
              console.log(mathField);
              latexSpan.textContent = mathField.latex(); // simple API
            }
          }
        });
        // mathField.typedText('x=-b\\pm \\sqrt b^2  - 4ac');
      </script>

    </div>

    <script src="./js/bundle.js" charset="utf-8"></script>

  </body>


</html>
